# π” ReentrantLock μ΄λ΅  μ •λ¦¬
## 1οΈβƒ£ λ“±μ¥ λ°°κ²½
- μλ°” 1.0λ¶€ν„° μ κ³µλ synchronizedλ” κ°„λ‹¨ν•κ³  νΈλ¦¬ν•μ§€λ§ λ‹¤μκ³Ό κ°™μ€ ν•κ³„κ°€ μμ:
- λ¬΄ν• λ€κΈ°: λ½μ΄ ν’€λ¦΄ λ•κΉμ§€ BLOCKED μƒνƒλ΅ λ€κΈ°
- μΈν„°λ½νΈ λ¶κ°€: λ€κΈ° μ¤‘μΈ μ¤λ λ“λ¥Ό μ¤‘λ‹¨ν•  μ μ—†μ
- κ³µμ •μ„± λ¶€μ΅±: μ–΄λ–¤ μ¤λ λ“κ°€ λ½μ„ μ–»μ„μ§€ μμΈ΅ λ¶κ°€ β†’ κΈ°μ•„(starvation) κ°€λ¥  
    β†’ μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μλ°” 1.5λ¶€ν„° Lock μΈν„°νμ΄μ¤μ™€ ReentrantLock κµ¬ν„μ²΄ λ„μ…

## 2οΈβƒ£ Lock μΈν„°νμ΄μ¤ μ£Όμ” λ©”μ„λ“

| λ©”μ„λ“                  | μ„¤λ… λλ” λ°ν™κ°’                                |
|-------------------------|--------------------------------------------------|
| lock()                  | λ½μ„ νλ“. μΈν„°λ½νΈμ— μ‘ν•μ§€ μ•μ                |
| lockInterruptibly()     | μΈν„°λ½νΈ κ°€λ¥. μΈν„°λ½νΈ μ‹ InterruptedException λ°μƒ |
| tryLock()               | μ¦‰μ‹ λ½ νλ“ μ‹λ„. μ‹¤ν¨ μ‹ false λ°ν™             |
| tryLock(time, unit)     | μ‹κ°„ μ ν• λ½ μ‹λ„. μ‹¤ν¨ μ‹ false, μΈν„°λ½νΈ κ°€λ¥   |
| unlock()                | λ½ ν•΄μ . λ½μ„ κ°€μ§„ μ¤λ λ“λ§ νΈμ¶ κ°€λ¥             |
| newCondition()          | Condition κ°μ²΄ μƒμ„±. wait/notify κΈ°λ¥ μ κ³µ        |

## 3οΈβƒ£ ReentrantLockμ νΉμ§•
- Lock μΈν„°νμ΄μ¤μ λ€ν‘ κµ¬ν„μ²΄
- μ¬μ§„μ… κ°€λ¥: λ™μΌ μ¤λ λ“κ°€ μ—¬λ¬ λ² λ½μ„ νλ“ κ°€λ¥
- κ³µμ •μ„± λ¨λ“ μ§€μ›: λ½ νλ“ μμ„λ¥Ό μ μ–΄ν•  μ μμ

### π” κ³µμ •μ„± λ¨λ“ λΉ„κµ

| λ¨λ“ κµ¬λ¶„       | νΉμ§•                                                   |
|----------------|--------------------------------------------------------|
| λΉ„κ³µμ • λ¨λ“     | μ„±λ¥ μ°μ„ , λ½μ„ λΉ¨λ¦¬ νλ“ κ°€λ¥, κΈ°μ•„ ν„μƒ λ°μƒ κ°€λ¥μ„± μμ |
| κ³µμ • λ¨λ“       | `new ReentrantLock(true)` μ‚¬μ©, μ”μ²­ μμ„λ€λ΅ λ½ νλ“, μ„±λ¥ μ €ν• κ°€λ¥ |

## 4οΈβƒ£ μμ‹ μ½”λ“
```java
Lock lock = new ReentrantLock(); // λΉ„κ³µμ •
Lock fairLock = new ReentrantLock(true); // κ³µμ •

lock.lock();
try {
    // μ„κ³„ μμ—­
} finally {
    lock.unlock();
}
```
## 5οΈβƒ£ lock() vs lockInterruptibly()

| ν•­λ©               | lock()                                      | lockInterruptibly()                              |
|--------------------|----------------------------------------------|--------------------------------------------------|
| μΈν„°λ½νΈ λ€μ‘       | β λ¬΄μ‹ν•¨                                     | β… μΈν„°λ½νΈ λ°μƒ μ‹ `InterruptedException` λ°μƒ   |
| λ€κΈ° λ°©μ‹           | λ¬΄ν• λ€κΈ°                                     | λ€κΈ° μ¤‘ μΈν„°λ½νΈ κ°€λ¥                            |
| μμ™Έ μ²λ¦¬           | μ—†μ                                          | μμ™Έ μ²λ¦¬ ν•„μ” (`try-catch`)                     |
| μ‚¬μ© λ©μ            | λ‹¨μ λ½ νλ“                                   | μ™Έλ¶€ μ·¨μ† κ°€λ¥μ„±μ΄ μλ” λ½ νλ“ μƒν™©μ— μ ν•©       |
| μμ‹ μƒν™©           | λκΉμ§€ κΈ°λ‹¤λ¦¬λ” λ§›μ§‘ μ¤„                       | μΉκµ¬κ°€ μ—°λ½ν•λ©΄ ν¬κΈ°ν•λ” λ§›μ§‘ μ¤„                  |


## π” μ¶”κ°€ κ°λ…: Condition κ°μ²΄
- Conditionμ€ wait/notifyλ¥Ό ReentrantLockκ³Ό ν•¨κ» μ‚¬μ©ν•  μ μκ² ν•΄μ£Όλ” λ„κµ¬
- μλ¥Ό λ“¤μ–΄, νΉμ • μ΅°κ±΄μ΄ λ§μ΅±λ  λ•κΉμ§€ μ¤λ λ“λ¥Ό λ€κΈ°μ‹ν‚¤κ³ , μ΅°κ±΄μ΄ λ§μ΅±λλ©΄ κΉ¨μΈ μ μμ
```java
Condition condition = lock.newCondition();

lock.lock();
try {
    condition.await(); // λ€κΈ°
    // μ΅°κ±΄ λ§μ΅± ν›„ μ‹¤ν–‰
} finally {
    lock.unlock();
}
```
- await() β†’ WAITING μƒνƒ μ§„μ…
- signal() λλ” signalAll() β†’ λ€κΈ° μ¤‘μΈ μ¤λ λ“ κΉ¨μ›€

## π“ ReentrantLock vs synchronized μ”μ•½ λΉ„κµ

| ν•­λ©               | synchronized                          | ReentrantLock                                 |
|--------------------|----------------------------------------|-----------------------------------------------|
| λ€κΈ° μƒνƒ           | BLOCKED                                | WAITING / TIMED_WAITING                        |
| μΈν„°λ½νΈ λ€μ‘       | λ¶κ°€λ¥                                 | κ°€λ¥ (`lockInterruptibly()`)                  |
| μ‹κ°„ μ ν• λ€κΈ°       | λ¶κ°€λ¥                                 | κ°€λ¥ (`tryLock(time, unit)`)                  |
| κ³µμ •μ„± μ„¤μ •         | λ¶κ°€λ¥                                 | κ°€λ¥ (`new ReentrantLock(true)`)              |
| μ΅°κ±΄ λ€κΈ°/μ‹ νΈ      | `wait()` / `notify()` / `notifyAll()` | `Condition.await()` / `signal()` / `signalAll()` |
| μ¬μ§„μ… κ°€λ¥ μ—¬λ¶€     | κ°€λ¥                                   | κ°€λ¥                                           |
| μ μ–΄ μμ¤€           | κ³ μμ¤€ (κ°„λ‹¨ν• μ‚¬μ©)                   | μ €μμ¤€ (μ„Έλ°€ν• μ μ–΄ κ°€λ¥)                      |

## β… κ²°λ΅ 
- ReentrantLockμ€ synchronizedμ λ‹¨μ μ„ λ³΄μ™„ν• κ³ κΈ‰ λ½ λ„κµ¬
- κ³µμ •μ„±, μΈν„°λ½νΈ, μ‹κ°„ μ ν•, μ΅°κ±΄ λ€κΈ° λ“± λ‹¤μ–‘ν• κΈ°λ¥μ„ μ κ³µ
- λ³µμ΅ν• λ™μ‹μ„± μ μ–΄κ°€ ν•„μ”ν• μƒν™©μ—μ„λ” ReentrantLockμ΄ ν›¨μ”¬ μ λ¦¬ν•¨

---
