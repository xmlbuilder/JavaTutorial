# yield

## ì†ŒìŠ¤ ì½”ë“œ
```java
public class YieldMain {
    static final int THREAD_COUNT = 1000;

    public static void main(String[] args) {
        for (int i = 0; i < THREAD_COUNT; i++) {
            Thread thread = new Thread(new MyRunnable());
            thread.start();
        }
    }

    static class MyRunnable implements Runnable {
        public void run() {
            for (int i = 0; i < 10; i++) {
            System.out.println(Thread.currentThread().getName() + " - " + i);
            // 1. empty
            //sleep(1); // 2. sleep
            //Thread.yield(); // 3. yield
            }
        }
    }
}
```

## ì˜ˆì œ êµ¬ì¡° ìš”ì•½
```java
static final int THREAD_COUNT = 1000;
for (int i = 0; i < THREAD_COUNT; i++) {
    Thread thread = new Thread(new MyRunnable());
    thread.start();
}
```

- ì´ 1000ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰
- ê° ìŠ¤ë ˆë“œëŠ” 0ë¶€í„° 9ê¹Œì§€ ìˆ«ìžë¥¼ ì¶œë ¥í•˜ê³  ì¢…ë£Œ
- run() ë‚´ë¶€ì—ì„œ 3ê°€ì§€ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ì‹¤í–‰ íë¦„ì„ ì œì–´

## ðŸ”„ ë‹¨ê³„ë³„ ì‹¤í–‰ íë¦„
### 1ï¸âƒ£ ê¸°ë³¸ êµ¬ì¡° (MyRunnable)
```java
static class MyRunnable implements Runnable {
    public void run() {
        for (int i = 0; i < 10; i++) {
            System.out.println(Thread.currentThread().getName() + " - " + i);
            // 1. empty
            // sleep(1); // 2. sleep
            // Thread.yield(); // 3. yield
        }
    }
}
```

- ê° ìŠ¤ë ˆë“œëŠ” 10ë²ˆ ë°˜ë³µí•˜ë©° ìžì‹ ì˜ ì´ë¦„ê³¼ ìˆ«ìžë¥¼ ì¶œë ¥
- ì£¼ì„ ì²˜ë¦¬ëœ ë¶€ë¶„ì„ ë°”ê¿”ê°€ë©° Empty, sleep(1), yield()ì˜ ì°¨ì´ë¥¼ ì‹¤í—˜

## âš™ï¸ ì‹¤í–‰ ë°©ì‹ë³„ ë¹„êµ
### âœ… 1. Empty (ê¸°ë³¸ ì‹¤í–‰)
// ì•„ë¬´ ê²ƒë„ í˜¸ì¶œí•˜ì§€ ì•ŠìŒ

- ìš´ì˜ì²´ì œì˜ ê¸°ë³¸ ìŠ¤ì¼€ì¤„ë§ì— ë”°ë¼ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë¨
- í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì—°ì†ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²½í–¥ì´ ìžˆìŒ
### ðŸ“Œ íŠ¹ì§•
- ìŠ¤ë ˆë“œ ê°„ ì–‘ë³´ ì—†ìŒ
- CPU ì½”ì–´ ìˆ˜ë³´ë‹¤ ì ì€ ìŠ¤ë ˆë“œ ìˆ˜ì¼ ê²½ìš° íš¨ìœ¨ì 
- ì‹¤í–‰ ìˆœì„œê°€ ë¶ˆê· í˜•í•˜ê²Œ ë³´ì¼ ìˆ˜ ìžˆìŒ

### âœ… 2. sleep(1)
```java
sleep(1); // 1ë°€ë¦¬ì´ˆ ë™ì•ˆ TIMED_WAITING ìƒíƒœë¡œ ì „í™˜
```

- ìŠ¤ë ˆë“œê°€ 1ms ë™ì•ˆ ìž ì‹œ ë©ˆì¶¤
- ê·¸ ì‚¬ì´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë  ìˆ˜ ìžˆìŒ
#### ðŸ“Œ íŠ¹ì§•
- ëª…ì‹œì  ì–‘ë³´ + ì¼ì • ì‹œê°„ ëŒ€ê¸°
- RUNNABLE â†’ TIMED_WAITING â†’ RUNNABLE ìƒíƒœ ì „í™˜ ë°œìƒ
- ì–‘ë³´í•  ìŠ¤ë ˆë“œê°€ ì—†ì–´ë„ ë¬´ì¡°ê±´ ì‰¼ â†’ ë¹„íš¨ìœ¨ ê°€ëŠ¥ì„± ìžˆìŒ

### âœ… 3. yield()
```java
Thread.yield(); // ì‹¤í–‰ ì–‘ë³´ ížŒíŠ¸
```

- í˜„ìž¬ ìŠ¤ë ˆë“œê°€ ìžë°œì ìœ¼ë¡œ CPUë¥¼ ì–‘ë³´
- RUNNABLE ìƒíƒœë¥¼ ìœ ì§€í•˜ë©° ìŠ¤ì¼€ì¤„ë§ íë¡œ ìž¬ì§„ìž…
#### ðŸ“Œ íŠ¹ì§•
- ì–‘ë³´í•  ìŠ¤ë ˆë“œê°€ ìžˆì„ ë•Œë§Œ íš¨ê³¼ì 
- ì–‘ë³´ ížŒíŠ¸ì¼ ë¿, ë°˜ë“œì‹œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹˜
- ì½”ì–´ ìˆ˜ë³´ë‹¤ ë§Žì€ ìŠ¤ë ˆë“œê°€ ìžˆì„ ë•Œ íš¨ê³¼ê°€ ëšœë ·í•¨

## ðŸ§  ìƒíƒœ ì „ì´ ìš”ì•½

| ì‹¤í–‰ ë°©ì‹     | ì‹œìž‘ ìƒíƒœ   | ì¤‘ê°„ ìƒíƒœ           | ì¢…ë£Œ ìƒíƒœ   |
|---------------|-------------|----------------------|-------------|
| `Empty`         | RUNNING     | RUNNING              | TERMINATED  |
| `sleep(1)`      | RUNNING     | TIMED_WAITING â†’ RUNNABLE | TERMINATED  |
| `yield()`       | RUNNING     | RUNNABLE (ìŠ¤ì¼€ì¤„ë§ í ìž¬ì§„ìž…) | TERMINATED  |

## ðŸ” ì„¤ëª… ìš”ì•½
- Empty: ìŠ¤ë ˆë“œëŠ” ê³„ì† ì‹¤í–‰ë˜ë©° ìƒíƒœ ë³€í™” ì—†ì´ ì¢…ë£Œë¨
- sleep(1): ìŠ¤ë ˆë“œëŠ” ì¼ì • ì‹œê°„ ë™ì•ˆ TIMED_WAITING ìƒíƒœë¡œ ì „í™˜ë˜ì—ˆë‹¤ê°€ ë‹¤ì‹œ RUNNABLEë¡œ ë³µê·€
- yield(): ìŠ¤ë ˆë“œëŠ” RUNNABLE ìƒíƒœ


## ðŸ“Š ì‹¤í–‰ ê²°ê³¼ ë¹„êµ ìš”ì•½

| ì‹¤í–‰ ë°©ì‹   | ì‹¤í–‰ íë¦„ íŠ¹ì§•                          | ë°˜ì‘ì„± | íš¨ìœ¨ì„± | ì–‘ë³´ ì˜ë„ | ìƒíƒœ ì „ì´ ë³µìž¡ë„ |
|-------------|------------------------------------------|--------|--------|------------|------------------|
| Empty       | í•œ ìŠ¤ë ˆë“œê°€ ì—°ì†ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²½í–¥       | ë‚®ìŒ   | ë†’ìŒ   | ì—†ìŒ       | ë‚®ìŒ             |
| sleep(1)    | ì‹¤í–‰ í›„ 1ms ëŒ€ê¸°, ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ê¸°íšŒ ì œê³µ   | ë†’ìŒ   | ë‚®ìŒ   | ê°•ì œ ì–‘ë³´   | ë†’ìŒ             |
| yield()     | ìžë°œì  ì–‘ë³´, ìŠ¤ì¼€ì¤„ëŸ¬ê°€ íŒë‹¨í•´ ì‹¤í–‰ ìˆœì„œ ì¡°ì • | ì¤‘ê°„   | ì¤‘ê°„   | ížŒíŠ¸ ì–‘ë³´   | ì¤‘ê°„             |

## ðŸ” ìš”ì•½ í¬ì¸íŠ¸
- Empty: ìš´ì˜ì²´ì œ ìŠ¤ì¼€ì¤„ë§ì—ë§Œ ì˜ì¡´ â†’ ì‹¤í–‰ ìˆœì„œê°€ ë¶ˆê· í˜•í•  ìˆ˜ ìžˆìŒ
- sleep(1): í™•ì‹¤í•œ ì–‘ë³´ì§€ë§Œ ë¶ˆí•„ìš”í•œ ëŒ€ê¸° ë°œìƒ ê°€ëŠ¥ â†’ íš¨ìœ¨ì„± ì €í•˜
- yield(): ì–‘ë³´ ížŒíŠ¸ë¥¼ ì£¼ì§€ë§Œ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ íŒë‹¨ â†’ ë°˜ì‘ì„±ê³¼ íš¨ìœ¨ì„±ì˜ ê· í˜•


## âœ… ê²°ë¡ 
Thread.yield()ëŠ” ìŠ¤ë ˆë“œê°€ ìžë°œì ìœ¼ë¡œ CPUë¥¼ ì–‘ë³´í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ,  
ìŠ¤ì¼€ì¤„ë§ íì— ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë§Žì„ ë•Œ íš¨ê³¼ì ìœ¼ë¡œ ìž‘ë™í•©ë‹ˆë‹¤. 
ë°˜ë©´ sleep()ì€ ë¬´ì¡°ê±´ ì‰¬ê¸° ë•Œë¬¸ì— ì–‘ë³´í•  ìŠ¤ë ˆë“œê°€ ì—†ì„ ë•ŒëŠ” ì˜¤ížˆë ¤ ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.  

---


