# 와일드카드
? extends와 ? super는 Java의 제네릭 타입 와일드카드로, 타입의 상속 관계를 기반으로 읽기 전용 또는 쓰기 전용 컬렉션을 안전하게 다룰 수 있도록 도와줍니다.  
아래 예제를 통해 각각의 의미를 설명.

## 코드
```java
import java.util.ArrayList;
import java.util.Collection;
import java.util.List;
import java.util.Objects;

class Shoe{}

class IPhone {}
interface Fruit{}

class Apple implements Fruit{
}

class Banana implements Fruit{
}

class GrannySmith extends Apple{
}

class FruitHelper{
    public void eatAll(Collection<? extends Fruit> fruits){}
    public void addApple(Collection<? super Apple> apples){}
}

public class ImmutableTest {
    public static void main(String[] args){
        FruitHelper fruitHelper = new FruitHelper();
        List<Fruit> fruits = new ArrayList<>();
        fruits.add(new Apple());
        fruits.add(new Banana());
        fruitHelper.eatAll(fruits);
        fruitHelper.addApple(fruits);
        Collection<Apple> apples = new ArrayList<>();
        apples.add(new GrannySmith());
        fruitHelper.addApple(apples);
        Collection<Object> objects = new ArrayList<>();
        fruitHelper.addApple(objects);
        objects.add(new Shoe());
        objects.add(new IPhone());
    }
}
```

## ✅ ? extends T — "T 또는 T의 하위 타입"
- 읽기 전용: 해당 컬렉션에서 안전하게 값을 꺼낼 수 있지만, 값을 넣을 수는 없음.
- 예제:
```java
public void eatAll(Collection<? extends Fruit> fruits)
```

- Fruit, Apple, Banana, GrannySmith 등 Fruit을 구현한 모든 타입을 받을 수 있음.
- fruits에서 Fruit로 안전하게 꺼낼 수 있음.
- 하지만 fruits.add(...)는 불가능. 어떤 구체적인 타입인지 모르기 때문.

## ✅ ? super T — "T 또는 T의 상위 타입"
- 쓰기 전용: 해당 컬렉션에 T 타입을 안전하게 넣을 수 있지만, 꺼낼 때는 Object로만 다뤄야 함.
- 예제:
```java
public void addApple(Collection<? super Apple> apples)
```

- Apple, Fruit, Object 타입의 컬렉션을 받을 수 있음.
- apples.add(new Apple()) 또는 apples.add(new GrannySmith())는 가능.
- 하지만 Apple apple = apples.get(0)은 불가능. 타입이 Object로만 보장되기 때문.

## 🔍 예제 흐름 분석
```java
List<Fruit> fruits = new ArrayList<>();
fruits.add(new Apple());
fruits.add(new Banana());
fruitHelper.eatAll(fruits);       // ✅ OK: List<Fruit>는 Collection<? extends Fruit>
fruitHelper.addApple(fruits);     // ✅ OK: List<Fruit>는 Collection<? super Apple>

Collection<Apple> apples = new ArrayList<>();
apples.add(new GrannySmith());
fruitHelper.addApple(apples);     // ✅ OK: Collection<Apple>는 Collection<? super Apple>

Collection<Object> objects = new ArrayList<>();
fruitHelper.addApple(objects);    // ✅ OK: Collection<Object>는 Collection<? super Apple>
objects.add(new Shoe());          // ✅ OK: Shoe는 Object의 하위 타입
objects.add(new IPhone());        // ✅ OK: IPhone도 마찬가지

```


## 📌 제네릭 와일드카드 요약

| 와일드카드      | 방향       | 사용 목적     | 예시 메서드                                 |
|------------------|------------|----------------|----------------------------------------------|
| `? extends T`     | 상향 (하위 타입 허용) | 읽기 전용     | `eatAll(Collection<? extends Fruit>)`        |
| `? super T`       | 하향 (상위 타입 허용) | 쓰기 전용     | `addApple(Collection<? super Apple>)`        |


이 개념은 PECS 원칙으로도 기억할 수 있음:  
Producer Extends, Consumer Super  

- 데이터를 생산하는 경우 → extends
- 데이터를 소비하는 경우 → super

---

