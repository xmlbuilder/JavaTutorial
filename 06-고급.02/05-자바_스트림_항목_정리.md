# ğŸ“˜ ìë°” I/O ë¬¸ì ì²˜ë¦¬ ìš”ì•½

## 1. ìŠ¤íŠ¸ë¦¼ê³¼ ë¬¸ì ì²˜ë¦¬ì˜ ê¸°ë³¸ ê°œë…
- ìë°”ì˜ ìŠ¤íŠ¸ë¦¼ì€ ê¸°ë³¸ì ìœ¼ë¡œ byte ë‹¨ìœ„ë¡œ ì‘ë™
- ë¬¸ìë¥¼ ìŠ¤íŠ¸ë¦¼ì— ì§ì ‘ ì „ë‹¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë¬¸ì â†’ byte ë³€í™˜ í•„ìš”
- ë³€í™˜ ë°©ì‹:
    - `String.getBytes(Charset) â†’ byte[]`
    - `new String(byte[], Charset) â†’ String`

### ìƒ˜í”Œ ì½”ë“œ
```java
public static void main(String[] args) throws IOException {
    String writeString = "ABC";
    
    // ë¬¸ì -> byte UTF-8 ì¸ì½”ë”©
    byte[] writeBytes = writeString.getBytes(UTF_8);
    System.out.println("write String: " + writeString);
    System.out.println("write bytes: " + Arrays.toString(writeBytes));

    // íŒŒì¼ì— ì“°ê¸°
    FileOutputStream fos = new FileOutputStream(FILE_NAME);
    fos.write(writeBytes);
    fos.close();

    // íŒŒì¼ì—ì„œ ì½ê¸°
    FileInputStream fis = new FileInputStream(FILE_NAME);
    byte[] readBytes = fis.readAllBytes();
    fis.close();

    // byte -> String UTF-8 ë””ì½”ë”©
    String readString = new String(readBytes, UTF_8);
    System.out.println("read bytes: " + Arrays.toString(writeBytes));
    System.out.println("read String: " + readString);
    }
```


## 2. ë¬¸ì ìŠ¤íŠ¸ë¦¼ ë³´ì¡° í´ë˜ìŠ¤
OutputStreamWriter & InputStreamReader
- `OutputStreamWriter`: ë¬¸ì â†’ byte ì¸ì½”ë”© í›„ OutputStreamì— ì „ë‹¬
- `InputStreamReader`: byte â†’ ë¬¸ì ë””ì½”ë”© í›„ charë¡œ ë°˜í™˜

### íë¦„ë„
```mermaid
flowchart LR
    A[String ë¬¸ì] --> B[OutputStreamWriter]
    B --> C[byte array ì¸ì½”ë”©]
    C --> D[FileOutputStream]
```

```mermaid
flowchart LR
    D[FileInputStream] --> E[byte array]
    E --> F[InputStreamReader]
    F --> G[String ë¬¸ì]
```

### ìƒ˜í”Œ ì½”ë“œ
```java
public static void main(String[] args) throws IOException {
    String writeString = "ABC";
    System.out.println("write String: " + writeString);

    // íŒŒì¼ì— ì“°ê¸°
    FileOutputStream fos = new FileOutputStream(FILE_NAME);
    OutputStreamWriter osw = new OutputStreamWriter(fos, UTF_8);
    osw.write(writeString);
    osw.close();

    // íŒŒì¼ì—ì„œ ì½ê¸°
    FileInputStream fis = new FileInputStream(FILE_NAME);
    InputStreamReader isr = new InputStreamReader(fis, UTF_8);
    StringBuilder content = new StringBuilder();
    int ch;
    while ((ch = isr.read()) != -1) {
        content.append((char) ch);
    }
    isr.close();
    System.out.println("read String: " + content);
}
```


## 3. FileWriter & FileReader
- FileWriterëŠ” ë‚´ë¶€ì ìœ¼ë¡œ OutputStreamWriterë¥¼ ìƒì†
- FileReaderëŠ” ë‚´ë¶€ì ìœ¼ë¡œ InputStreamReaderë¥¼ ìƒì†
- ìƒì„±ìì—ì„œ íŒŒì¼ëª…ê³¼ ë¬¸ì ì§‘í•©(Charset)ì„ ì§€ì •
FileWriter fw = new FileWriter(FILE_NAME, UTF_8);
FileReader fr = new FileReader(FILE_NAME, UTF_8);


### íë¦„ë„
```mermaid
classDiagram
    class InputStream {
        +read()
        +read(byte array)
    }
    class OutputStream {
        +write(int)
        +write(byte array)
    }
    class Reader {
        +read()
        +read(char array)
    }
    class Writer {
        +write(String)
        +write(char array)
    }
    InputStream <|-- FileInputStream
    OutputStream <|-- FileOutputStream
    Reader <|-- FileReader
    Writer <|-- FileWriter
```

### ìƒ˜í”Œ ì½”ë“œ
```java
public static void main(String[] args) throws IOException {
    String writeString = "ABC";
    System.out.println("write String: " + writeString);

    // íŒŒì¼ì— ì“°ê¸°
    FileWriter fw = new FileWriter(FILE_NAME, UTF_8);
    fw.write(writeString);
    fw.close();

    // íŒŒì¼ì—ì„œ ì½ê¸°
    StringBuilder content = new StringBuilder();
    FileReader fr = new FileReader(FILE_NAME, UTF_8);
    int ch;
    while ((ch = fr.read()) != -1) {
        content.append((char) ch);
    }
    fr.close();

    System.out.println("read String: " + content);
}
```


## 4. BufferedReader & BufferedWriter
- ë²„í¼ ê¸°ëŠ¥ ì œê³µ
- BufferedReader.readLine() â†’ í•œ ì¤„ ë‹¨ìœ„ë¡œ ì½ê¸°


### íë¦„ë„
```mermaid
sequenceDiagram
    participant App
    participant BufferedWriter
    participant FileWriter
    App->>BufferedWriter: write("ABC
ê°€ë‚˜ë‹¤")
    BufferedWriter->>FileWriter: ë‚´ë¶€ ë²„í¼ flush
    App->>BufferedReader: readLine()
    BufferedReader->>FileReader: í•œ ì¤„ì”© ì½ê¸°
```

### ìƒ˜í”Œ ì½”ë“œ
```java
public class ReaderWriterMainV4 {
    private static final int BUFFER_SIZE = 8192;
    public static void main(String[] args) throws IOException {

        String writeString = "ABC\nê°€ë‚˜ë‹¤";
        System.out.println("== Write String ==");
        System.out.println(writeString);

        // íŒŒì¼ì— ì“°ê¸°
        FileWriter fw = new FileWriter(FILE_NAME, UTF_8);
        BufferedWriter bw = new BufferedWriter(fw, BUFFER_SIZE);
        bw.write(writeString);
        bw.close();

        // íŒŒì¼ì—ì„œ ì½ê¸°
        StringBuilder content = new StringBuilder();
        FileReader fr = new FileReader(FILE_NAME, UTF_8);
        BufferedReader br = new BufferedReader(fr, BUFFER_SIZE);
        String line;
        while ((line = br.readLine()) != null) {
            content.append(line).append("\n");
        }
        br.close();

        System.out.println("== Read String ==");
        System.out.println(content);
    }
}
```


## 5. ê¸°íƒ€ ë³´ì¡° ìŠ¤íŠ¸ë¦¼
- PrintStream
    - ì½˜ì†” ì¶œë ¥ì²˜ëŸ¼ íŒŒì¼ì— ì¶œë ¥ ê°€ëŠ¥
    - System.outê³¼ ë™ì¼í•œ ë°©ì‹ ì‚¬ìš©
```java
PrintStream ps = new PrintStream(new FileOutputStream("print.txt"));
ps.println("hello java!");
```
### ìƒ˜í”Œ ì½”ë“œ
```java
public static void main(String[] args) throws FileNotFoundException {
    FileOutputStream fos = new FileOutputStream("temp/print.txt");
    PrintStream printStream = new PrintStream(fos);
    printStream.println("hello java!");
    printStream.println(10);
    printStream.println(true);
    printStream.printf("hello %s", "world");
    printStream.close();
}
```
- DataOutputStream / DataInputStream
    - ìë°” ê¸°ë³¸ íƒ€ì… ì €ì¥ ë° ì½ê¸° ì§€ì›
    - ë°˜ë“œì‹œ ì €ì¥í•œ ìˆœì„œëŒ€ë¡œ ì½ì–´ì•¼ í•¨
```java
dos.writeUTF("íšŒì›A");
dos.writeInt(20);
dos.writeDouble(10.5);
dos.writeBoolean(true);
```

```java
public static void main(String[] args) throws IOException {

    FileOutputStream fos = new FileOutputStream("temp/data.dat");
    DataOutputStream dos = new DataOutputStream(fos);
    dos.writeUTF("íšŒì›A");
    dos.writeInt(20);
    dos.writeDouble(10.5);
    dos.writeBoolean(true);
    dos.close();

    FileInputStream fis = new FileInputStream("temp/data.dat");
    DataInputStream dis = new DataInputStream(fis);
    System.out.println(dis.readUTF());
    System.out.println(dis.readInt());
    System.out.println(dis.readDouble());
    System.out.println(dis.readBoolean());
    dis.close();
}
```

## 6. ìŠ¤íŠ¸ë¦¼ ë¶„ë¥˜ ìš”ì•½
- ê¸°ë³¸ ìŠ¤íŠ¸ë¦¼
    - ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥
    - ë‹¨ë… ì‚¬ìš© ê°€ëŠ¥
    - ì˜ˆ: FileInputStream, FileOutputStream, FileReader, FileWriter
- ë³´ì¡° ìŠ¤íŠ¸ë¦¼
    - ê¸°ë³¸ ìŠ¤íŠ¸ë¦¼ì„ ê°ì‹¸ì„œ ê¸°ëŠ¥ í™•ì¥
    - ë‹¨ë… ì‚¬ìš© ë¶ˆê°€
    - ì˜ˆ: BufferedReader, OutputStreamWriter, DataOutputStream, PrintStream

### ì •ë¦¬

| êµ¬ë¶„       | ì„¤ëª…                             | ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ | ì˜ˆì‹œ ìŠ¤íŠ¸ë¦¼ ì¢…ë¥˜                                      |
|------------|----------------------------------|----------------|--------------------------------------------------------|
| ê¸°ë³¸ ìŠ¤íŠ¸ë¦¼ | íŒŒì¼, ë©”ëª¨ë¦¬, ì½˜ì†” ë“±ì— ì§ì ‘ ì ‘ê·¼ | ë‹¨ë… ì‚¬ìš© ê°€ëŠ¥ | `FileInputStream`, `FileOutputStream`, `FileReader`, `FileWriter` |
| ë³´ì¡° ìŠ¤íŠ¸ë¦¼ | ê¸°ë³¸ ìŠ¤íŠ¸ë¦¼ì„ ê°ì‹¸ ê¸°ëŠ¥ í™•ì¥       | ë‹¨ë… ì‚¬ìš© ë¶ˆê°€ | `BufferedReader`, `OutputStreamWriter`, `DataOutputStream`, `PrintStream` |


---




