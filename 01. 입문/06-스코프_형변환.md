## 🧠 자바 스코프 & 형변환 정리

### 🔒 스코프 개요
스코프(Scope)는 변수의 생존 범위 또는 접근 가능 범위를 의미합니다.  
자바에서는 변수의 선언 위치에 따라 스코프가 결정됩니다.
| 변수 종류     | 스코프 범위                  |
|---------------|------------------------------|
| 지역 변수     | 선언된 코드 블록 `{}` 내부    |
| for문 변수    | for문 블록 내부               |
| if문 변수     | if문 블록 내부                |

### 📍 지역 변수와 생존 범위
```java
int m = 10; // main 블록 전체에서 접근 가능

if (true) {
    int x = 20; // if 블록 내부에서만 접근 가능
    System.out.println("m = " + m); // 가능
    System.out.println("x = " + x); // 가능
}

System.out.println("m = " + m); // 가능
System.out.println("x = " + x); // 오류: x는 스코프 밖
```

- 지역 변수는 자신이 선언된 블록 안에서만 사용할 수 있습니다.

### 🎯 스코프 존재 이유
#### 문제점: 스코프가 넓은 경우
```java
int temp = 0; // main 전체에서 접근 가능

if (m > 0) {
    temp = m * 2;
    System.out.println("temp = " + temp);
}
```

- ❌ 메모리 낭비
- ❌ 유지보수 어려움
#### 개선: 스코프가 좁은 경우
```java
if (m > 0) {
    int temp = m * 2; // if 블록 내부에서만 접근 가능
    System.out.println("temp = " + temp);
}
```

- ✅ 메모리 효율
- ✅ 유지보수 용이

### 🔁 while vs for - 스코프 관점
#### while문
```java
int i = 1; // main 전체에서 접근 가능
while (i <= endNum) {
    sum += i;
    i++;
}
```

#### for문
```java
for (int i = 1; i <= endNum; i++) {
    sum += i;
}
```
- for문은 반복 변수의 스코프를 블록 내부로 제한할 수 있어 더 안전하고 깔끔합니다.


### 🔄 형변환 개요
형변환(Type Casting)은 서로 다른 자료형 간의 변환을 의미합니다.  
자바에서는 자동 형변환과 명시적 형변환이 있습니다.
| 형변환 종류     | 설명                          |
|----------------|-------------------------------|
| 자동 형변환     | 작은 타입 → 큰 타입으로 변환   |
| 명시적 형변환   | 큰 타입 → 작은 타입으로 변환   |


### ✅ 자동 형변환
자바는 작은 크기의 타입을 큰 크기의 타입으로 자동 변환합니다.
```java
int intValue = 10;
long longValue = intValue; // int → long
double doubleValue = intValue; // int → double
```
- 개발자가 직접 형변환 코드를 쓰지 않아도 자동으로 처리됩니다.


### ✂️ 명시적 형변환
큰 타입을 작은 타입으로 변환할 때는 명시적으로 캐스팅해야 합니다.
```java
double doubleValue = 1.5;
int intValue = (int) doubleValue; // double → int
System.out.println(intValue); // 출력: 1
```
- 소수점이 버려지고, 값이 손실될 수 있습니다.


### ⚠️ 형변환과 오버플로우
#### 정상 범위
```java
long maxIntValue = 2147483647;
int intValue = (int) maxIntValue; // 정상 변환
System.out.println(intValue); // 2147483647
```

#### 초과 범위
```java
long maxIntOver = 2147483648L;
int intValue = (int) maxIntOver; // 오버플로우 발생
System.out.println(intValue); // -2147483648
```
- 오버플로우가 발생하면 전혀 다른 값이 저장됩니다. 반드시 타입을 넓혀서 방지해야 합니다.


### ➕ 계산과 형변환
자바에서 서로 다른 타입끼리 계산하면 큰 타입으로 자동 형변환됩니다.
```java
int a = 3;
int b = 2;
double result = (double) a / b; // 1.5
```

#### 예제 비교
```java
int div1 = 3 / 2;           // 결과: 1
double div2 = 3 / 2;        // 결과: 1.0
double div3 = 3.0 / 2;      // 결과: 1.5
double div4 = (double) 3 / 2; // 결과: 1.5
```


### 📥 정리
#### 스코프 요약
| 위치         | 변수 생존 범위         |
|--------------|------------------------|
| 메서드 내부  | 메서드 전체            |
| if문 내부    | if 블록 내부           |
| for문 내부   | for 블록 내부          |


#### 형변환 요약
| 변환 종류     | 예시                     | 손실 가능성 |
|---------------|--------------------------|--------------|
| 자동 형변환   | int → long → double      | 없음         |
| 명시적 형변환 | double → int             | 있음         |

- 좋은 프로그램은 변수의 스코프를 좁게, 형변환을 명확하게 사용하는 프로그램입니다.



